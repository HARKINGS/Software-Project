<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/List_Resident.css" />
  </head>
  <body>
    <div class="Main">
      <div class="Dashboard">
        Chung c∆∞ BlueMoon
        <div class="Dashboard__elements"><a href="">Th√¥ng tin d√¢n c∆∞</a></div>
        <div class="Dashboard__elements"><a href="">Th√¥ng tin h·ªô kh·∫©u</a></div>
        <div class="Dashboard__elements"><a href="">Th√¥ng tin thu ph√≠</a></div>
        <div class="Dashboard__elements"><a href="">Tin nh·∫Øn</a></div>
        <div class="Dashboard__elements"><a href="">C√†i ƒë·∫∑t</a></div>
      </div>

      <div class="Infor">
        <div class="Header">
          <div class="Search">
            <input type="text" class="SearchInput" placeholder="Search..." />
            <button class="SearchButton">üîç</button>
          </div>
          <div class="personal">
            <a href="/profile" class="ProfileLink">
              <img src="" alt="Avatar User" class="Profile_Image" />
            </a>
          </div>
        </div>

        <p style="font-size: 20; font-weight: 700">Danh s√°ch d√¢n c∆∞</p>

        <div class="Search-Resident">
          <div class="Search-Res-Item">
            <label for="nameInput" class="label">T√™n d√¢n c∆∞:</label>
            <input
              id="nameInput"
              list="nameSuggestions"
              class="input"
              placeholder="Nh·∫≠p t√™n c∆∞ d√¢n"
              oninput="searchName()"
            />
            <datalist id="nameSuggestions"></datalist>
            <!--Danh s√°ch g·ª£i √Ω -->
          </div>
          <div class="Search-Res-Item">
            <label for="cccdInput" class="label">S·ªë CCCD c·ªßa c∆∞ d√¢n:</label>
            <input
              id="cccdInput"
              list="cccdSuggestions"
              class="input"
              placeholder="Nh·∫≠p m√£ CCCD"
              oninput="searchCCCD()"
            />
            <datalist id="cccdSuggestions"></datalist>
          </div>

          <div class="Search-Res-Item">
            <label for="householdInput" class="label">S·ªë h·ªô kh·∫©u:</label>
            <input
              id="householdInput"
              list="householdSuggestions"
              class="input"
              placeholder="Nh·∫≠p s·ªë h·ªô kh·∫©u"
              oninput="searchHousehold()"
            />
            <datalist id="householdSuggestions"></datalist>
          </div>

          <div class="Search-Res-Item">
            <label for="roomInput" class="label">S·ªë ph√≤ng:</label>
            <input
              id="roomInput"
              list="roomSuggestions"
              class="input"
              placeholder="Nh·∫≠p s·ªë ph√≤ng"
              oninput="searchRoom()"
            />
            <datalist id="roomSuggestions"></datalist>
          </div>
          <button class="SearchButton">üîç</button>
        </div>

        <table id="residentTable">
          <thead>
            <tr>
              <th>T√™n d√¢n c∆∞</th>
              <th>Ng√†y sinh</th>
              <th>S·ªë CCCD</th>
              <th>Gi·ªõi t√≠nh</th>
              <th>S·ªë ƒëi·ªán tho·∫°i</th>
              <th>S·ªë h·ªô kh·∫©u</th>
              <th>S·ªë ph√≤ng</th>
              <th>Tr·∫°ng th√°i</th>
            </tr>
          </thead>
          <tbody>
            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn v√†o ƒë√¢y -->
          </tbody>
        </table>
        <!-- Ph·∫ßn ph√¢n trang -->
        <div id="pagination">
          <button class="pageButton" id="prevPage" onclick="changePage(-1)">
            Prev
          </button>
          <span id="pageNumber">Page 1</span>
          <button class="pageButton" id="nextPage" onclick="changePage(1)">
            Next
          </button>
        </div>
      </div>
    </div>
    <script>
      // D·ªØ li·ªáu m·∫´u v·ªÅ d√¢n c∆∞
      const residents = [
        {
          name: "Nguy·ªÖn VƒÉn A",
          cccd: "123456789012",
          household: "HK12345",
          room: "101",
        },
        {
          name: "Tr·∫ßn Th·ªã B",
          cccd: "987654321098",
          household: "HK67890",
          room: "102",
        },
        {
          name: "L√™ Quang C",
          cccd: "567890123456",
          household: "HK54321",
          room: "103",
        },
        {
          name: "Nguy·ªÖn VƒÉn A",
          cccd: "123456789012",
          household: "HK12345",
          room: "101",
        },
        {
          name: "Tr·∫ßn Th·ªã B",
          cccd: "987654321098",
          household: "HK67890",
          room: "102",
        },
        {
          name: "L√™ Quang C",
          cccd: "567890123456",
          household: "HK54321",
          room: "103",
        },
        {
          name: "Nguy·ªÖn VƒÉn A",
          cccd: "123456789012",
          household: "HK12345",
          room: "101",
        },
        {
          name: "Tr·∫ßn Th·ªã B",
          cccd: "987654321098",
          household: "HK67890",
          room: "102",
        },
        {
          name: "L√™ Quang C",
          cccd: "567890123456",
          household: "HK54321",
          room: "103",
        },
        {
          name: "Nguy·ªÖn VƒÉn A",
          cccd: "123456789012",
          household: "HK12345",
          room: "101",
        },
        {
          name: "Tr·∫ßn Th·ªã B",
          cccd: "987654321098",
          household: "HK67890",
          room: "102",
        },
        {
          name: "L√™ Quang C",
          cccd: "567890123456",
          household: "HK54321",
          room: "103",
        },
      ];

      let currentPage = 1;
      const itemsPerPage = 7; // Hi·ªÉn th·ªã 5 d√¢n c∆∞ m·ªói trang

      // H√†m c·∫≠p nh·∫≠t b·∫£ng d√¢n c∆∞
      function updateResidentTable(residents) {
        const tableBody = document
          .getElementById("residentTable")
          .getElementsByTagName("tbody")[0];
        tableBody.innerHTML = ""; // X√≥a c√°c d√≤ng c≈© trong b·∫£ng

        residents.forEach((resident) => {
          const row = tableBody.insertRow();
          row.insertCell(0).textContent = resident.name;
          row.insertCell(1).textContent = "Ng√†y sinh"; // B·∫°n c√≥ th·ªÉ thay "Ng√†y sinh" b·∫±ng gi√° tr·ªã th·ª±c t·∫ø
          row.insertCell(2).textContent = resident.cccd;
          row.insertCell(3).textContent = "Gi·ªõi t√≠nh"; // B·∫°n c√≥ th·ªÉ thay "Gi·ªõi t√≠nh" b·∫±ng gi√° tr·ªã th·ª±c t·∫ø
          row.insertCell(4).textContent = "S·ªë ƒëi·ªán tho·∫°i"; // B·∫°n c√≥ th·ªÉ thay "S·ªë ƒëi·ªán tho·∫°i" b·∫±ng gi√° tr·ªã th·ª±c t·∫ø
          row.insertCell(5).textContent = resident.household;
          row.insertCell(6).textContent = resident.room;
          row.insertCell(7).textContent = "Tr·∫°ng th√°i"; // B·∫°n c√≥ th·ªÉ thay "Tr·∫°ng th√°i" b·∫±ng gi√° tr·ªã th·ª±c t·∫ø
        });
      }

      // H√†m ph√¢n trang
      function changePage(direction) {
        const totalPages = Math.ceil(residents.length / itemsPerPage);
        currentPage += direction;

        if (currentPage < 1) {
          currentPage = 1;
        } else if (currentPage > totalPages) {
          currentPage = totalPages;
        }

        const start = (currentPage - 1) * itemsPerPage;
        const end = start + itemsPerPage;
        const pageResidents = residents.slice(start, end);

        updateResidentTable(pageResidents);

        // C·∫≠p nh·∫≠t s·ªë trang
        document.getElementById(
          "pageNumber"
        ).textContent = `Page ${currentPage}`;

        // Ki·ªÉm tra n√∫t ph√¢n trang
        document.getElementById("prevPage").disabled = currentPage === 1;
        document.getElementById("nextPage").disabled =
          currentPage === totalPages;
      }

      // H√†m t√¨m ki·∫øm theo t√™n
      function searchName() {
        const nameInput = document
          .getElementById("nameInput")
          .value.toLowerCase();
        const filteredResidents = residents.filter((resident) =>
          resident.name.toLowerCase().includes(nameInput)
        );
        updateResidentTable(filteredResidents);
      }

      // H√†m t√¨m ki·∫øm theo CCCD
      function searchCCCD() {
        const cccdInput = document
          .getElementById("cccdInput")
          .value.toLowerCase();
        const filteredResidents = residents.filter((resident) =>
          resident.cccd.includes(cccdInput)
        );
        updateResidentTable(filteredResidents);
      }

      // H√†m t√¨m ki·∫øm theo s·ªë h·ªô kh·∫©u
      function searchHousehold() {
        const householdInput = document
          .getElementById("householdInput")
          .value.toLowerCase();
        const filteredResidents = residents.filter((resident) =>
          resident.household.includes(householdInput)
        );
        updateResidentTable(filteredResidents);
      }

      // H√†m t√¨m ki·∫øm theo s·ªë ph√≤ng
      function searchRoom() {
        const roomInput = document
          .getElementById("roomInput")
          .value.toLowerCase();
        const filteredResidents = residents.filter((resident) =>
          resident.room.includes(roomInput)
        );
        updateResidentTable(filteredResidents);
      }

      // Hi·ªÉn th·ªã trang ƒë·∫ßu ti√™n khi t·∫£i trang
      window.onload = () => changePage(0);
    </script>
  </body>
</html>
